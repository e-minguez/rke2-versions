{"componentChunkName":"component---src-pages-markdown-remark-parent-file-name-js","path":"/v1-23-17-rke2r1/","result":{"data":{"markdownRemark":{"parent":{"name":"v1.23.17+rke2r1"},"html":"<!-- v1.23.17+rke2r1 -->\n<p>This release updates Kubernetes to v1.23.17, and fixes a number of issues.</p>\n<p><strong>Important Note</strong></p>\n<p>If your server (control-plane) nodes were not started with the <code>--token</code> CLI flag or config file key, a randomized token was generated during initial cluster startup. This key is used both for joining new nodes to the cluster, and for encrypting cluster bootstrap data within the datastore. Ensure that you retain a copy of this token, as is required when restoring from backup.</p>\n<p>You may retrieve the token value from any server already joined to the cluster:</p>\n<pre><code class=\"language-bash\">cat /var/lib/rancher/rke2/server/token\n</code></pre>\n<h2>Changes since v1.23.16+rke2r1:</h2>\n<ul>\n<li>Don't handle kube-proxy in static pod cleanup <a href=\"https://github.com/rancher/rke2/pull/3837\">(#3837)</a></li>\n<li>Bump cilium images <a href=\"https://github.com/rancher/rke2/pull/3825\">(#3825)</a></li>\n<li>Remove pod logs as part of killall <a href=\"https://github.com/rancher/rke2/pull/3869\">(#3869)</a></li>\n<li>Bump wharfie and go-containerregistry <a href=\"https://github.com/rancher/rke2/pull/3866\">(#3866)</a></li>\n<li>Bump k3s version <a href=\"https://github.com/rancher/rke2/pull/3900\">(#3900)</a>\n<ul>\n<li>Fixed an issue where leader-elected controllers for managed etcd did not run on etcd-only nodes</li>\n<li>RKE2 now functions properly when the cluster CA certificates are signed by an existing root or intermediate CA. You can find a sample script for generating such certificates before RKE2 starts in the K3s repo at <a href=\"https://github.com/k3s-io/k3s/blob/master/contrib/util/certs.sh\">contrib/util/certs.sh</a>.</li>\n<li>RKE2 now supports <code>kubeadm</code> style join tokens. <code>rke2 token create</code> now creates join token secrets, optionally with a limited TTL.</li>\n<li>RKE2 agents joined with an expired or deleted token stay in the cluster using existing client certificates via the NodeAuthorization admission plugin, unless their Node object is deleted from the cluster.</li>\n<li>ServiceLB now honors the Service's ExternalTrafficPolicy. When set to Local, the LoadBalancer will only advertise addresses of Nodes with a Pod for the Service, and will not forward traffic to other cluster members. (ServiceLB is still disabled by default)</li>\n</ul>\n</li>\n<li>Bump K3s commit <a href=\"https://github.com/rancher/rke2/pull/3908\">(#3908)</a></li>\n<li>Backport Calico and canal update <a href=\"https://github.com/rancher/rke2/pull/3912\">(#3912)</a></li>\n<li>Add bootstrap token auth handler <a href=\"https://github.com/rancher/rke2/pull/3923\">(#3923)</a></li>\n<li>Update to kubernetes v1.23.17 <a href=\"https://github.com/rancher/rke2/pull/3951\">(#3951)</a></li>\n</ul>\n<h2>Packaged Component Versions</h2>\n<table>\n<thead>\n<tr>\n<th>Component</th>\n<th>Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Kubernetes</td>\n<td><a href=\"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.23.md#v12317\">v1.23.17</a></td>\n</tr>\n<tr>\n<td>Etcd</td>\n<td><a href=\"https://github.com/k3s-io/etcd/releases/tag/v3.5.4-k3s1\">v3.5.4-k3s1</a></td>\n</tr>\n<tr>\n<td>Containerd</td>\n<td><a href=\"https://github.com/k3s-io/containerd/releases/tag/v1.5.16-k3s2-1-22\">v1.5.16-k3s2-1-22</a></td>\n</tr>\n<tr>\n<td>Runc</td>\n<td><a href=\"https://github.com/opencontainers/runc/releases/tag/v1.1.4\">v1.1.4</a></td>\n</tr>\n<tr>\n<td>Metrics-server</td>\n<td><a href=\"https://github.com/kubernetes-sigs/metrics-server/releases/tag/v0.6.2\">v0.6.2</a></td>\n</tr>\n<tr>\n<td>CoreDNS</td>\n<td><a href=\"https://github.com/coredns/coredns/releases/tag/v1.9.3\">v1.9.3</a></td>\n</tr>\n<tr>\n<td>Ingress-Nginx</td>\n<td><a href=\"https://github.com/kubernetes/ingress-nginx/releases/tag/helm-chart-4.1.0\">4.1.0</a></td>\n</tr>\n<tr>\n<td>Helm-controller</td>\n<td><a href=\"https://github.com/k3s-io/helm-controller/releases/tag/v0.13.1\">v0.13.1</a></td>\n</tr>\n</tbody>\n</table>\n<h3>Available CNIs</h3>\n<table>\n<thead>\n<tr>\n<th>Component</th>\n<th>Version</th>\n<th>FIPS Compliant</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Canal (Default)</td>\n<td><a href=\"https://github.com/k3s-io/flannel/releases/tag/v0.21.1\">Flannel v0.21.1</a><br/><a href=\"https://projectcalico.docs.tigera.io/archive/v3.25/release-notes/#v3250\">Calico v3.25.0</a></td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>Calico</td>\n<td><a href=\"https://projectcalico.docs.tigera.io/archive/v3.25/release-notes/#v3250\">v3.25.0</a></td>\n<td>No</td>\n</tr>\n<tr>\n<td>Cilium</td>\n<td><a href=\"https://github.com/cilium/cilium/releases/tag/v1.12.5\">v1.12.5</a></td>\n<td>No</td>\n</tr>\n<tr>\n<td>Multus</td>\n<td><a href=\"https://github.com/k8snetworkplumbingwg/multus-cni/releases/tag/v3.9\">v3.9</a></td>\n<td>No</td>\n</tr>\n</tbody>\n</table>\n<h2>Helpful Links</h2>\n<p>As always, we welcome and appreciate feedback from our community of users. Please feel free to:</p>\n<ul>\n<li><a href=\"https://github.com/rancher/rke2/issues/new\">Open issues here</a></li>\n<li><a href=\"https://slack.rancher.io/\">Join our Slack channel</a></li>\n<li><a href=\"https://docs.rke2.io\">Check out our documentation</a> for guidance on how to get started.</li>\n</ul>"}},"pageContext":{"id":"a9a13e2e-eb33-5e31-a186-534e9553cf5e","parent__name":"v1.23.17+rke2r1","__params":{"parent__name":"v1-23-17-rke2r1"}}},"staticQueryHashes":["3159585216"],"slicesMap":{}}