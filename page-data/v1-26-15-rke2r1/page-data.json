{"componentChunkName":"component---src-pages-markdown-remark-parent-file-name-js","path":"/v1-26-15-rke2r1/","result":{"data":{"markdownRemark":{"parent":{"name":"v1.26.15+rke2r1"},"html":"<!-- v1.26.15+rke2r1 -->\n<p>This release updates Kubernetes to v1.26.15.</p>\n<p><strong>Important Notes</strong></p>\n<p>Canal uses flannel 0.24.3 which includes a bug: every 5 seconds it tries to add ipv6 iptables rules and fails if the node does not have an ipv6 address. The consequence is the log \"Failed to ensure iptables rules: error setting up rules: failed to apply partial iptables-restore unable to run iptables-restore (, ): exit status 4\" appears every 5 seconds in the flannel container of the canal pod.</p>\n<p>Flannel daemonset is not tolerating node taints: \"node-role.kubernetes.io/etcd:NoExecute\", \"node-role.kubernetes.io/control-plane:NoSchedule\" and \"node.cloudprovider.kubernetes.io/uninitialized:NoSchedule\" which can create problems when deploying with Rancher in certain cloud-providers (e.g. vShpere or DigitalOcean).</p>\n<p>If your server (control-plane) nodes were not started with the <code>--token</code> CLI flag or config file key, a randomized token was generated during initial cluster startup. This key is used both for joining new nodes to the cluster, and for encrypting cluster bootstrap data within the datastore. Ensure that you retain a copy of this token, as is required when restoring from backup.</p>\n<p>You may retrieve the token value from any server already joined to the cluster:</p>\n<pre><code class=\"language-bash\">cat /var/lib/rancher/rke2/server/token\n</code></pre>\n<h2>Changes since v1.26.14+rke2r1:</h2>\n<ul>\n<li>Add a multus e2e test <a href=\"https://github.com/rancher/rke2/pull/5547\">(#5547)</a></li>\n<li>Bump vsphere csi chart to 3.1.2-rancher101 and cpi to 1.7.001 <a href=\"https://github.com/rancher/rke2/pull/5556\">(#5556)</a></li>\n<li>Bump coredns chart <a href=\"https://github.com/rancher/rke2/pull/5563\">(#5563)</a></li>\n<li>Update Calico and Canal to v3.27.2 <a href=\"https://github.com/rancher/rke2/pull/5585\">(#5585)</a></li>\n<li>Bump multus chart version <a href=\"https://github.com/rancher/rke2/pull/5596\">(#5596)</a></li>\n<li>Bump K3s version for v1.26 <a href=\"https://github.com/rancher/rke2/pull/5590\">(#5590)</a>\n<ul>\n<li>Fix: use correct wasm shims names</li>\n<li>Bump spegel to v0.0.18-k3s3</li>\n<li>Adds wildcard registry support</li>\n<li>Fixes issue with excessive CPU utilization while waiting for containerd to start</li>\n<li>Add env var to allow spegel mirroring of latest tag</li>\n<li>Bump helm-controller/klipper-helm versions</li>\n<li>Fix snapshot prune</li>\n<li>Fix issue with etcd node name missing hostname</li>\n<li>Fix additional corner cases in registries handling</li>\n<li>RKE2 will now warn and suppress duplicate entries in the mirror endpoint list for a registry. Containerd does not support listing the same endpoint multiple times as a mirror for a single upstream registry.</li>\n</ul>\n</li>\n<li>Bump K3s version for v1.26 <a href=\"https://github.com/rancher/rke2/pull/5608\">(#5608)</a></li>\n<li>Update to 1.26.15 <a href=\"https://github.com/rancher/rke2/pull/5616\">(#5616)</a></li>\n</ul>\n<h2>Charts Versions</h2>\n<table>\n<thead>\n<tr>\n<th>Component</th>\n<th>Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>rke2-cilium</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rke2-cilium/rke2-cilium-1.15.100.tgz\">1.15.100</a></td>\n</tr>\n<tr>\n<td>rke2-canal</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rke2-canal/rke2-canal-v3.27.2-build2024030800.tgz\">v3.27.2-build2024030800</a></td>\n</tr>\n<tr>\n<td>rke2-calico</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rke2-calico/rke2-calico-v3.27.200.tgz\">v3.27.200</a></td>\n</tr>\n<tr>\n<td>rke2-calico-crd</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rke2-calico/rke2-calico-crd-v3.27.002.tgz\">v3.27.002</a></td>\n</tr>\n<tr>\n<td>rke2-coredns</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rke2-coredns/rke2-coredns-1.29.002.tgz\">1.29.002</a></td>\n</tr>\n<tr>\n<td>rke2-ingress-nginx</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rke2-ingress-nginx/rke2-ingress-nginx-4.8.200.tgz\">4.8.200</a></td>\n</tr>\n<tr>\n<td>rke2-metrics-server</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rke2-metrics-server/rke2-metrics-server-2.11.100-build2023051513.tgz\">2.11.100-build2023051513</a></td>\n</tr>\n<tr>\n<td>rancher-vsphere-csi</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rancher-vsphere-csi/rancher-vsphere-csi-3.1.2-rancher101.tgz\">3.1.2-rancher101</a></td>\n</tr>\n<tr>\n<td>rancher-vsphere-cpi</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rancher-vsphere-cpi/rancher-vsphere-cpi-1.7.001.tgz\">1.7.001</a></td>\n</tr>\n<tr>\n<td>harvester-cloud-provider</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/harvester-cloud-provider/harvester-cloud-provider-0.2.200.tgz\">0.2.200</a></td>\n</tr>\n<tr>\n<td>harvester-csi-driver</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/harvester-cloud-provider/harvester-csi-driver-0.1.1700.tgz\">0.1.1700</a></td>\n</tr>\n<tr>\n<td>rke2-snapshot-controller</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rke2-snapshot-controller/rke2-snapshot-controller-1.7.202.tgz\">1.7.202</a></td>\n</tr>\n<tr>\n<td>rke2-snapshot-controller-crd</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rke2-snapshot-controller/rke2-snapshot-controller-crd-1.7.202.tgz\">1.7.202</a></td>\n</tr>\n<tr>\n<td>rke2-snapshot-validation-webhook</td>\n<td><a href=\"https://github.com/rancher/rke2-charts/raw/main/assets/rke2-snapshot-validation-webhook/rke2-snapshot-validation-webhook-1.7.302.tgz\">1.7.302</a></td>\n</tr>\n</tbody>\n</table>\n<h2>Packaged Component Versions</h2>\n<table>\n<thead>\n<tr>\n<th>Component</th>\n<th>Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Kubernetes</td>\n<td><a href=\"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.26.md#v12615\">v1.26.15</a></td>\n</tr>\n<tr>\n<td>Etcd</td>\n<td><a href=\"https://github.com/k3s-io/etcd/releases/tag/v3.5.9-k3s1\">v3.5.9-k3s1</a></td>\n</tr>\n<tr>\n<td>Containerd</td>\n<td><a href=\"https://github.com/k3s-io/containerd/releases/tag/v1.7.11-k3s2\">v1.7.11-k3s2</a></td>\n</tr>\n<tr>\n<td>Runc</td>\n<td><a href=\"https://github.com/opencontainers/runc/releases/tag/v1.1.\">v1.1.</a></td>\n</tr>\n<tr>\n<td>Metrics-server</td>\n<td><a href=\"https://github.com/kubernetes-sigs/metrics-server/releases/tag/v0.6.3\">v0.6.3</a></td>\n</tr>\n<tr>\n<td>CoreDNS</td>\n<td><a href=\"https://github.com/coredns/coredns/releases/tag/v1.11.1\">v1.11.1</a></td>\n</tr>\n<tr>\n<td>Ingress-Nginx</td>\n<td><a href=\"https://github.com/rancher/ingress-nginx/releases/tag/nginx-1.9.3-hardened1\">nginx-1.9.3-hardened1</a></td>\n</tr>\n<tr>\n<td>Helm-controller</td>\n<td><a href=\"https://github.com/k3s-io/helm-controller/releases/tag/v0.15.9\">v0.15.9</a></td>\n</tr>\n</tbody>\n</table>\n<h3>Available CNIs</h3>\n<table>\n<thead>\n<tr>\n<th>Component</th>\n<th>Version</th>\n<th>FIPS Compliant</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Canal (Default)</td>\n<td><a href=\"https://github.com/flannel-io/flannel/releases/tag/v1.29.0\">Flannel v0.24.3</a><br/><a href=\"https://docs.tigera.io/calico/latest/release-notes/#v3.27\">Calico v3.27.2</a></td>\n<td>Yes</td>\n</tr>\n<tr>\n<td>Calico</td>\n<td><a href=\"https://docs.tigera.io/calico/latest/release-notes/#v3.27\">v3.27.2</a></td>\n<td>No</td>\n</tr>\n<tr>\n<td>Cilium</td>\n<td><a href=\"https://github.com/cilium/cilium/releases/tag/v1.15.1\">v1.15.1</a></td>\n<td>No</td>\n</tr>\n<tr>\n<td>Multus</td>\n<td><a href=\"https://github.com/k8snetworkplumbingwg/multus-cni/releases/tag/v4.0.2\">v4.0.2</a></td>\n<td>No</td>\n</tr>\n</tbody>\n</table>\n<h2>Helpful Links</h2>\n<p>As always, we welcome and appreciate feedback from our community of users. Please feel free to:</p>\n<ul>\n<li><a href=\"https://github.com/rancher/rke2/issues/new\">Open issues here</a></li>\n<li><a href=\"https://slack.rancher.io/\">Join our Slack channel</a></li>\n<li><a href=\"https://docs.rke2.io\">Check out our documentation</a> for guidance on how to get started.</li>\n</ul>"}},"pageContext":{"id":"c205eaf2-54f8-5896-abfa-23c0e487c635","parent__name":"v1.26.15+rke2r1","__params":{"parent__name":"v1-26-15-rke2r1"}}},"staticQueryHashes":["3159585216"],"slicesMap":{}}